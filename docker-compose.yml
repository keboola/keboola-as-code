version: '3'
services:
  dev:
    image: keboolabot/keboola-as-code-dev
    build: .
    volumes:
      - ./:/code:z
      - ../keboola-go-client:/go-client:z
      - cache:/tmp/cache
    environment:
      # For CLI
      - TEST_KBC_PROJECTS
      ## OR
      - TEST_KBC_PROJECT_ID
      - TEST_KBC_STORAGE_API_HOST
      - TEST_KBC_STORAGE_API_TOKEN
      # For Templates API
      - KBC_STORAGE_API_HOST
      ## Disable DataDog integration
      - DATADOG_ENABLED=false
    ports:
      - "8000:8000"

volumes:
  cache:
