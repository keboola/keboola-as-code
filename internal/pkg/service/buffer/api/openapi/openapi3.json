{"openapi":"3.0.3","info":{"title":"Buffer Service","description":"A service for continuously importing data to Keboola storage.","version":"1.0"},"servers":[{"url":"https://buffer.{stack}","variables":{"stack":{"enum":["keboola.com","eu-central-1.keboola.com","north-europe.azure.keboola.com","eu-west-1.aws.keboola.dev","east-us-2.azure.keboola-testing.com"],"default":"keboola.com"}}},{"url":"http://localhost:8001"}],"paths":{"/":{"get":{"tags":["documentation"],"summary":"Redirect to /v1","description":"Redirect to /v1.","operationId":"ApiRootIndex","responses":{"301":{"description":"Moved Permanently response."}}}},"/v1":{"get":{"tags":["documentation"],"summary":"List API name and link to documentation.","description":"List API name and link to documentation.","operationId":"ApiVersionIndex","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDetail"},"example":{"api":"buffer","documentation":"https://buffer.keboola.com/v1/documentation"}}}}}}},"/v1/documentation/openapi.json":{"get":{"tags":["documentation"],"summary":"Swagger 2.0 JSON Specification","operationId":"OpenapiJson","responses":{"200":{"description":"File downloaded"}}}},"/v1/documentation/openapi.yaml":{"get":{"tags":["documentation"],"summary":"Swagger 2.0 YAML Specification","operationId":"OpenapiYaml","responses":{"200":{"description":"File downloaded"}}}},"/v1/documentation/openapi3.json":{"get":{"tags":["documentation"],"summary":"OpenAPI 3.0 JSON Specification","operationId":"Openapi3Json","responses":{"200":{"description":"File downloaded"}}}},"/v1/documentation/openapi3.yaml":{"get":{"tags":["documentation"],"summary":"OpenAPI 3.0 YAML Specification","operationId":"Openapi3Yaml","responses":{"200":{"description":"File downloaded"}}}},"/v1/import/{projectId}/{receiverId}/{secret}":{"post":{"tags":["import"],"summary":"Import data","description":"Upload data into the receiver.","operationId":"Import","parameters":[{"name":"projectId","in":"path","required":true,"schema":{"type":"integer","example":1852288590393211492,"format":"int64"},"example":1852288590393211492},{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"},{"name":"secret","in":"path","description":"Secret used for authentication.","required":true,"schema":{"type":"string","description":"Secret used for authentication.","example":"UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","minLength":48,"maxLength":48},"example":"UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH"},{"name":"Content-Type","in":"header","allowEmptyValue":true,"required":true,"schema":{"type":"string","example":"application/json"},"example":"application/json"}],"responses":{"200":{"description":"OK response."},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}},"413":{"description":"buffer.payloadTooLarge: Payload too large.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}}}},"/v1/receivers":{"get":{"tags":["configuration"],"summary":"List all receivers","description":"List all receivers for a given project.","operationId":"ListReceivers","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReceiversList"},"example":{"receivers":[{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}]}}}}},"security":[{"storage-api-token":[]}]},"post":{"tags":["configuration"],"summary":"Create receiver","description":"Create a new receiver for a given project","operationId":"CreateReceiver","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReceiverRequestBody"},"example":{"description":"This receiver receives events from Github.","exports":[{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"},{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}],"id":"74h","name":"Github Webhook Receiver"}}}},"responses":{"202":{"description":"Accepted response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"},"example":{"id":"receiver.create/2018-01-01T00:00:00.000Z_jdkLp","receiverId":"","url":"https://buffer.keboola.com/v1/receivers/receiver-1/tasks/receiver.create/2018-01-01T00:00:00.000Z_jdkLp","type":"receiver.create","createdAt":"2018-01-01T00:00:00.000Z","finishedAt":"2018-01-01T00:00:00.000Z","isFinished":true,"duration":123,"result":"task succeeded","outputs":{"receiverId":"receiver-1"}}}}},"409":{"description":"buffer.receiverAlreadyExists: Receiver already exists in the project.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}},"422":{"description":"buffer.resourceLimitReached: Resource limit reached.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}},"/v1/receivers/{receiverId}":{"delete":{"tags":["configuration"],"summary":"Delete receiver","description":"Delete a receiver.","operationId":"DeleteReceiver","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"responses":{"200":{"description":"OK response."},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]},"get":{"tags":["configuration"],"summary":"Get receiver","description":"Get the configuration of a receiver.","operationId":"GetReceiver","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Receiver"},"example":{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}}}},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]},"patch":{"tags":["configuration"],"summary":"Update receiver","description":"Update a receiver export.","operationId":"UpdateReceiver","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateReceiverRequestBody"},"example":{"description":"This receiver receives events from Github.","name":"Github Webhook Receiver"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Receiver"},"example":{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}}}},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}},"/v1/receivers/{receiverId}/exports":{"get":{"tags":["configuration"],"summary":"List exports","description":"List all exports for a given receiver.","operationId":"ListExports","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportsList"},"example":{"exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}}}},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]},"post":{"tags":["configuration"],"summary":"Create export","description":"Create a new export for an existing receiver.","operationId":"CreateExport","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateExportData"},"example":{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"y","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}}}},"responses":{"202":{"description":"Accepted response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"},"example":{"id":"receiver.create/2018-01-01T00:00:00.000Z_jdkLp","receiverId":"","url":"https://buffer.keboola.com/v1/receivers/receiver-1/tasks/receiver.create/2018-01-01T00:00:00.000Z_jdkLp","type":"receiver.create","createdAt":"2018-01-01T00:00:00.000Z","finishedAt":"2018-01-01T00:00:00.000Z","isFinished":true,"duration":123,"result":"task succeeded","outputs":{"receiverId":"receiver-1"}}}}},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}},"409":{"description":"buffer.exportAlreadyExists: Export already exists in the receiver.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}},"422":{"description":"buffer.resourceLimitReached: Resource limit reached.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}},"/v1/receivers/{receiverId}/exports/{exportId}":{"delete":{"tags":["configuration"],"summary":"Delete export","description":"Delete a receiver export.","operationId":"DeleteExport","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"},{"name":"exportId","in":"path","required":true,"schema":{"type":"string","example":"github-pr-table-export","minLength":1,"maxLength":48},"example":"github-pr-table-export"}],"responses":{"200":{"description":"OK response."},"404":{"description":"buffer.exportNotFound: Export not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]},"get":{"tags":["configuration"],"summary":"Get export","description":"Get the configuration of an export.","operationId":"GetExport","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"},{"name":"exportId","in":"path","required":true,"schema":{"type":"string","example":"github-pr-table-export","minLength":1,"maxLength":48},"example":"github-pr-table-export"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Export"},"example":{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}}}},"404":{"description":"buffer.exportNotFound: Export not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]},"patch":{"tags":["configuration"],"summary":"Update export","description":"Update a receiver export.","operationId":"UpdateExport","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"},{"name":"exportId","in":"path","required":true,"schema":{"type":"string","example":"github-pr-table-export","minLength":1,"maxLength":48},"example":"github-pr-table-export"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateExportRequestBody"},"example":{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"},"example":{"id":"receiver.create/2018-01-01T00:00:00.000Z_jdkLp","receiverId":"","url":"https://buffer.keboola.com/v1/receivers/receiver-1/tasks/receiver.create/2018-01-01T00:00:00.000Z_jdkLp","type":"receiver.create","createdAt":"2018-01-01T00:00:00.000Z","finishedAt":"2018-01-01T00:00:00.000Z","isFinished":true,"duration":123,"result":"task succeeded","outputs":{"receiverId":"receiver-1"}}}}},"404":{"description":"buffer.exportNotFound: Export not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}},"/v1/receivers/{receiverId}/tokens/refresh":{"post":{"tags":["configuration"],"summary":"Refresh receiver tokens","description":"Each export uses its own token scoped to the target bucket, this endpoint refreshes all of those tokens.","operationId":"RefreshReceiverTokens","parameters":[{"name":"receiverId","in":"path","required":true,"schema":{"type":"string","example":"github-webhook-receiver","minLength":1,"maxLength":48},"example":"github-webhook-receiver"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Receiver"},"example":{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}}}},"404":{"description":"buffer.receiverNotFound: Receiver not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}},"/v1/tasks/{taskId}":{"get":{"tags":["configuration"],"summary":"Get task","description":"Get details of a task.","operationId":"GetTask","parameters":[{"name":"taskId","in":"path","required":true,"schema":{"type":"string","example":"task_1234"},"example":"task_1234"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"},"example":{"id":"receiver.create/2018-01-01T00:00:00.000Z_jdkLp","receiverId":"","url":"https://buffer.keboola.com/v1/receivers/receiver-1/tasks/receiver.create/2018-01-01T00:00:00.000Z_jdkLp","type":"receiver.create","createdAt":"2018-01-01T00:00:00.000Z","finishedAt":"2018-01-01T00:00:00.000Z","isFinished":true,"duration":123,"result":"task succeeded","outputs":{"receiverId":"receiver-1"}}}}},"404":{"description":"buffer.taskNotFound: Task not found error.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"storage-api-token":[]}]}}},"components":{"schemas":{"Column":{"type":"object","properties":{"name":{"type":"string","description":"Column name.","example":"Sint quo assumenda possimus ipsam."},"primaryKey":{"type":"boolean","description":"Sets this column as a part of the primary key of the destination table.","default":false,"example":true},"template":{"$ref":"#/components/schemas/Template"},"type":{"type":"string","description":"Column mapping type. This represents a static mapping (e.g. `body` or `headers`), or a custom mapping using a template language (`template`).","example":"id","enum":["id","datetime","ip","body","headers","template"]}},"description":"An output mapping defined by a template.","example":{"type":"body","name":"column4","template":{"language":"","content":""}},"required":["type","name"]},"Conditions":{"type":"object","properties":{"count":{"type":"integer","description":"Maximum import buffer size in number of records.","default":10000,"example":4738312,"minimum":1,"maximum":10000000},"size":{"type":"string","description":"Maximum import buffer size in bytes. Units: B, KB, MB.","default":"5MB","example":"Quia non fuga vitae quis laborum."},"time":{"type":"string","description":"Minimum import interval. Units: [s]econd,[m]inute,[h]our.","default":"5m0s","example":"Distinctio qui perspiciatis vel optio quis."}},"description":"Table import triggers.","example":{"count":100,"size":"12kB","time":"1m10s"}},"CreateExportData":{"type":"object","properties":{"conditions":{"$ref":"#/components/schemas/Conditions"},"id":{"type":"string","description":"Optional ID, if not filled in, it will be generated from name. Cannot be changed later.","example":"8e","minLength":1,"maxLength":48},"mapping":{"$ref":"#/components/schemas/Mapping"},"name":{"type":"string","description":"Human readable name of the export.","example":"Raw Data Export","minLength":1,"maxLength":40}},"example":{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"h","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"},"required":["name","mapping"]},"CreateReceiverRequestBody":{"type":"object","properties":{"description":{"type":"string","description":"Description of teh receiver.","example":"This receiver receives events from Github.","maxLength":4096},"exports":{"type":"array","items":{"$ref":"#/components/schemas/CreateExportData"},"description":"List of exports, max 20 exports per a receiver.","example":[{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"},{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"},{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}]},"id":{"type":"string","description":"Optional ID, if not filled in, it will be generated from name. Cannot be changed later.","example":"r","minLength":1,"maxLength":48},"name":{"type":"string","description":"Human readable name of the receiver.","example":"Github Webhook Receiver","minLength":1,"maxLength":40}},"example":{"description":"This receiver receives events from Github.","exports":[{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"},{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"id":"4","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}],"id":"52b","name":"Github Webhook Receiver"},"required":["name"]},"Export":{"type":"object","properties":{"conditions":{"$ref":"#/components/schemas/Conditions"},"id":{"type":"string","example":"tg","minLength":1,"maxLength":48},"mapping":{"$ref":"#/components/schemas/Mapping"},"name":{"type":"string","description":"Human readable name of the export.","example":"Raw Data Export","minLength":1,"maxLength":40},"receiverId":{"type":"string","example":"42","minLength":1,"maxLength":48}},"description":"A mapping from imported data to a destination table.","example":{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}},"required":["id","receiverId","name","mapping","conditions"]},"ExportsList":{"type":"object","properties":{"exports":{"type":"array","items":{"$ref":"#/components/schemas/Export"},"example":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}},"example":{"exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]},"required":["exports"]},"GenericError":{"type":"object","properties":{"error":{"type":"string","description":"Name of error.","example":"buffer.internalError"},"message":{"type":"string","description":"Error message.","example":"Internal Error"},"statusCode":{"type":"integer","description":"HTTP status code.","example":500,"format":"int64"}},"description":"Receiver already exists in the project.","example":{"statusCode":409,"error":"buffer.receiverAlreadyExists","message":"Receiver already exists in the project."},"required":["statusCode","error","message"]},"Mapping":{"type":"object","properties":{"columns":{"type":"array","items":{"$ref":"#/components/schemas/Column"},"description":"List of export column mappings. An export may have a maximum of 50 columns.","example":[{"type":"body","name":"column4","template":{"language":"","content":""}}],"minItems":1,"maxItems":50},"incremental":{"type":"boolean","description":"Enables incremental loading to the table.","example":true},"tableId":{"type":"string","description":"Destination table ID.","example":"Doloremque sed omnis ipsam odio beatae ipsa."}},"description":"Export column mapping.","example":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"required":["tableId","columns"]},"Receiver":{"type":"object","properties":{"description":{"type":"string","description":"Description of teh receiver.","example":"This receiver receives events from Github.","maxLength":4096},"exports":{"type":"array","items":{"$ref":"#/components/schemas/Export"},"description":"List of exports, max 20 exports per a receiver.","example":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]},"id":{"type":"string","example":"i","minLength":1,"maxLength":48},"name":{"type":"string","description":"Human readable name of the receiver.","example":"Github Webhook Receiver","minLength":1,"maxLength":40},"url":{"type":"string","description":"URL of the receiver. Contains secret used for authentication.","example":"Ut vel quia itaque."}},"example":{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]},"required":["id","url","name","description","exports"]},"ReceiversList":{"type":"object","properties":{"receivers":{"type":"array","items":{"$ref":"#/components/schemas/Receiver"},"example":[{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}]}},"example":{"receivers":[{"id":"github-pull-requests","url":"https://buffer.keboola.com/v1/import/1000/github-pull-requests/UBdJHwifkaQxbVwPyaRstdYpcboGwksSluCGIUWKttTiUdVH","name":"receiver 1","exports":[{"id":"github-changed-files","receiverId":"","name":"GitHub Changed Files","mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"conditions":{"count":100,"size":"12kB","time":"1m10s"}}]}]},"required":["receivers"]},"ServiceDetail":{"type":"object","properties":{"api":{"type":"string","description":"Name of the API","example":"buffer"},"documentation":{"type":"string","description":"URL of the API documentation.","example":"https://buffer.keboola.com/v1/documentation"}},"example":{"api":"buffer","documentation":"https://buffer.keboola.com/v1/documentation"},"required":["api","documentation"]},"Task":{"type":"object","properties":{"createdAt":{"type":"string","description":"Date and time of the task creation.","example":"2022-04-28T14:20:04.000Z","format":"date-time"},"duration":{"type":"integer","description":"Duration of the task in milliseconds.","example":123456789,"format":"int64"},"error":{"type":"string","example":"Commodi sed qui delectus."},"finishedAt":{"type":"string","description":"Date and time of the task end.","example":"2022-04-28T14:20:04.000Z","format":"date-time"},"id":{"type":"string","example":"Sit maiores veniam."},"isFinished":{"type":"boolean","description":"Shortcut for status != \"processing\".","example":false},"outputs":{"$ref":"#/components/schemas/TaskOutputs"},"result":{"type":"string","example":"Autem earum et."},"status":{"type":"string","description":"Task status, one of: processing, success, error","example":"success","enum":["processing","success","error"]},"type":{"type":"string","description":"Task type.","example":"Aliquid quidem quas voluptatibus id."},"url":{"type":"string","description":"URL of the task.","example":"Excepturi et."}},"example":{"id":"receiver.create/2018-01-01T00:00:00.000Z_jdkLp","receiverId":"","url":"https://buffer.keboola.com/v1/receivers/receiver-1/tasks/receiver.create/2018-01-01T00:00:00.000Z_jdkLp","type":"receiver.create","createdAt":"2018-01-01T00:00:00.000Z","finishedAt":"2018-01-01T00:00:00.000Z","isFinished":true,"duration":123,"result":"task succeeded","outputs":{"receiverId":"receiver-1"}},"required":["id","type","url","status","isFinished","createdAt"]},"TaskOutputs":{"type":"object","properties":{"exportId":{"type":"string","description":"ID of the created/updated export.","example":"Cumque voluptatibus quam sit eveniet."},"receiverId":{"type":"string","description":"ID of the created/updated receiver.","example":"Earum accusamus impedit sed odio ipsam dolor."}},"description":"Outputs generated by the task.","example":{"exportId":"Ut nemo distinctio.","receiverId":"Quis porro inventore dolore nisi suscipit et."}},"Template":{"type":"object","properties":{"content":{"type":"string","example":"gdi","minLength":1,"maxLength":4096},"language":{"type":"string","example":"jsonnet","enum":["jsonnet"]}},"example":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"},"required":["language","content"]},"UpdateExportRequestBody":{"type":"object","properties":{"conditions":{"$ref":"#/components/schemas/Conditions"},"mapping":{"$ref":"#/components/schemas/Mapping"},"name":{"type":"string","description":"Human readable name of the export.","example":"Raw Data Export","minLength":1,"maxLength":40}},"example":{"conditions":{"count":100,"size":"12kB","time":"1m10s"},"mapping":{"tableId":"in.c-github.changes","incremental":true,"columns":[{"type":"id","name":"column1","template":{"language":"","content":""}},{"type":"datetime","name":"column2","template":{"language":"","content":""}},{"type":"ip","name":"column3","template":{"language":"","content":""}},{"type":"headers","name":"column5","template":{"language":"","content":""}},{"type":"template","name":"column6","template":{"language":"jsonnet","content":"body.foo + \"-\" + body.bar"}}]},"name":"Raw Data Export"}},"UpdateReceiverRequestBody":{"type":"object","properties":{"description":{"type":"string","description":"Description of teh receiver.","example":"This receiver receives events from Github.","maxLength":4096},"name":{"type":"string","description":"Human readable name of the receiver.","example":"Github Webhook Receiver","minLength":1,"maxLength":40}},"example":{"description":"This receiver receives events from Github.","name":"Github Webhook Receiver"}}},"securitySchemes":{"storage-api-token":{"type":"apiKey","description":"Storage Api Token Authentication.","name":"X-StorageApi-Token","in":"header"}}},"tags":[{"name":"buffer","description":"A service for continuously importing data to Keboola storage."}]}