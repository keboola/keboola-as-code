<<<<<
definition/branch/active/%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%
-----
{
  "projectId": %%TEST_KBC_PROJECT_ID%%,
  "branchId": %%TEST_DEFAULT_BRANCH_ID%%,
  "isDefault": true
}
>>>>>

<<<<<
definition/source/active/%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%/my-source
-----
{
  "projectId": %%TEST_KBC_PROJECT_ID%%,
  "branchId": %%TEST_DEFAULT_BRANCH_ID%%,
  "sourceId": "my-source",
  "version": {
    "number": 1,
    "hash": "db005c310109808b",
    "modifiedAt": "2024-02-29T16:04:00.035Z",
    "description": "New source."
  },
  "type": "http",
  "name": "My Source",
  "http": {
    "secret": "kQU45mKXenSndxyxk4DohbkXS610B0oKYvyWGixGgMUJpbAr"
  }
}
>>>>>

<<<<<
definition/sink/active/%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%/my-source/my-sink
-----
{
  "projectId": %%TEST_KBC_PROJECT_ID%%,
  "branchId": %%TEST_DEFAULT_BRANCH_ID%%,
  "sourceId": "my-source",
  "sinkId": "my-sink",
  "version": {
    "number": 5,
    "hash": "46739e92e00d7521",
    "modifiedAt": "2006-01-02T15:04:05.123Z",
    "description": "Rollback to version 2"
  },
  "type": "table",
  "name": "Modified Name",
  "description": "My Description",
  "config": [
    {
      "key": "storage.level.local.volume.assignment.count",
      "value": 1
    },
    {
      "key": "storage.level.local.volume.assignment.preferredTypes",
      "value": [
        "default"
      ]
    },
    {
      "key": "storage.level.local.volume.sync.bytesTrigger",
      "value": "100KB"
    },
    {
      "key": "storage.level.local.volume.sync.checkInterval",
      "value": "1ms"
    },
    {
      "key": "storage.level.local.volume.sync.countTrigger",
      "value": 100
    },
    {
      "key": "storage.level.local.volume.sync.intervalTrigger",
      "value": "100ms"
    },
    {
      "key": "storage.level.local.volume.sync.mode",
      "value": "disk"
    },
    {
      "key": "storage.level.local.volume.sync.wait",
      "value": false
    }
  ],
  "table": {
    "keboola": {
      "tableId": "in.bucket.table"
    },
    "mapping": {
      "columns": [
        {
          "type": "datetime",
          "name": "datetime"
        },
        {
          "type": "body",
          "name": "body"
        }
      ]
    }
  }
}
>>>>>

<<<<<
storage/file/all/%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%/my-source/my-sink/2000-01-01T02:00:00.000Z
-----
{
  "projectId": %%TEST_KBC_PROJECT_ID%%,
  "branchId": %%TEST_DEFAULT_BRANCH_ID%%,
  "sourceId": "my-source",
  "sinkId": "my-sink",
  "fileOpenedAt": "2000-01-01T02:00:00.000Z",
  "type": "csv",
  "state": "imported",
  "closingAt": "2000-01-01T05:00:00.000Z",
  "importingAt": "2000-01-01T12:00:00.000Z",
  "importedAt": "2000-01-01T13:00:00.000Z",
  "columns": [
    {
      "type": "datetime",
      "name": "datetime"
    },
    {
      "type": "body",
      "name": "body"
    }
  ],
  "assignment": {
    "config": {
      "count": 3,
      "preferredTypes": [
        "hdd"
      ]
    },
    "volumes": [
      "my-volume-5",
      "my-volume-3",
      "my-volume-1"
    ]
  },
  "local": {
    "dir": "%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%/my-source/my-sink/2000-01-01T02-00-00-000Z",
    "compression": {
      "type": "gzip",
      "gzip": {
        "level": 1,
        "implementation": "parallel",
        "blockSize": "256KB",
        "concurrency": 0
      }
    },
    "diskSync": {
      "mode": "disk",
      "wait": true,
      "checkInterval": "5ms",
      "countTrigger": 500,
      "bytesTrigger": "1MB",
      "intervalTrigger": "50ms"
    },
    "diskAllocation": {
      "enabled": true,
      "static": "100MB",
      "relative": 110
    }
  },
  "staging": {
    "compression": {
      "type": "gzip",
      "gzip": {
        "level": 1,
        "implementation": "parallel",
        "blockSize": "256KB",
        "concurrency": 0
      }
    },
    "credentials": {%A},
    "credentialsExpiration": "2000-01-01T03:00:00.000Z"
  },
  "target": {
    "table": {
      "keboola": {
        "tableId": "in.bucket.table"
      }
    }
  }
}
>>>>>

<<<<<
storage/stats/local/%%TEST_KBC_PROJECT_ID%%/%%TEST_DEFAULT_BRANCH_ID%%/my-source/my-sink/2000-01-01T02:00:00.000Z/my-volume/2000-01-20T00:00:00.000Z/value
-----
{
  "slicesCount": 1,
  "firstRecordAt": "2000-01-01T00:00:00.000Z",
  "lastRecordAt": "2000-01-01T01:00:00.000Z",
  "recordsCount": 1,
  "uncompressedSize": "1B",
  "compressedSize": "1B"
}
>>>>>
